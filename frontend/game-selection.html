<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Select Game - GloHub</title>
  <style>
    :root{--bg:#120018;--card:#1e0a2a;--accent:#ff66c4;--text:#fff;--muted:rgba(255,255,255,0.8)}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Helvetica,Arial}
    body{background:linear-gradient(135deg,#120018,#2b0036);display:flex;align-items:center;justify-content:center;color:var(--text);padding:20px}
    
    .container{width:100%;max-width:900px;padding:40px;box-sizing:border-box;text-align:center}
    
    h1{font-size:48px;margin:0 0 20px 0;background:linear-gradient(135deg,#ff66c4,#ff99dd);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    
    .subtitle{color:var(--muted);font-size:18px;margin-bottom:60px;letter-spacing:0.5px}
    
    .games-grid{display:grid;grid-template-columns:1fr 1fr;gap:40px;margin-bottom:40px}
    
    .game-card{background:linear-gradient(135deg,rgba(255,102,196,0.1),rgba(255,153,221,0.1));border:2px solid var(--accent);border-radius:20px;padding:40px;cursor:pointer;transition:all 300ms ease;position:relative;overflow:hidden}
    
    .game-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,transparent,rgba(255,255,255,0.1));opacity:0;transition:opacity 300ms ease}
    
    .game-card:hover{transform:translateY(-10px);border-color:#ff99dd;background:linear-gradient(135deg,rgba(255,102,196,0.2),rgba(255,153,221,0.2));box-shadow:0 20px 40px rgba(255,102,196,0.3)}
    
    .game-card:hover::before{opacity:1}
    
    .game-icon{font-size:64px;margin-bottom:20px;display:block}
    
    .game-title{font-size:32px;font-weight:700;margin:0 0 15px 0;color:var(--text)}
    
    .game-description{color:var(--muted);font-size:15px;line-height:1.6;margin:0}
    
    .btn-back{background:rgba(255,102,196,0.2);color:var(--accent);border:2px solid var(--accent);padding:12px 24px;border-radius:12px;font-size:14px;cursor:pointer;transition:all 300ms ease;font-weight:600;text-decoration:none;display:inline-block}
    
    .btn-back:hover{background:var(--accent);color:var(--bg)}
    
    @media (max-width:768px){
      .container{padding:30px 20px}
      h1{font-size:36px}
      .games-grid{grid-template-columns:1fr;gap:30px}
      .game-icon{font-size:48px}
      .game-title{font-size:24px}
    }
    
    .loading{display:none;text-align:center;color:var(--accent)}
    .loading.active{display:block}
  </style>
</head>
<body>
  <div class="container">
    <h1>Choose Game to Inspect</h1>
    <p class="subtitle">Select a game type to start managing</p>
    
    <div class="games-grid">
      <!-- Quiz Game Card -->
      <div class="game-card" onclick="selectGame('quiz')">
        <span class="game-icon">üß†</span>
        <h2 class="game-title">Quiz Game</h2>
        <p class="game-description">Knowledge-based game where players answer questions across different categories.</p>
      </div>
      
      <!-- Charades Game Card -->
      <div class="game-card" onclick="selectGame('charades')">
        <span class="game-icon">üé≠</span>
        <h2 class="game-title">Charades Game</h2>
        <p class="game-description">Act out words or phrases without speaking for other players to guess.</p>
      </div>
    </div>
    
    <div class="loading" id="loadingIndicator">
      <p>Loading...</p>
    </div>
    
    <a href="join-game.html" class="btn-back">‚Üê Go Back</a>
  </div>

  <script type="module">
    import { getAvatar } from './dialogue.js';

    // Verify super admin is still logged in
    const isSuperAdmin = sessionStorage.getItem('isSuperAdmin') === 'true';
    if (!isSuperAdmin) {
      console.warn('Not a super admin, redirecting...');
      window.location.href = 'join-game.html';
    }

    // Get avatar info
    const avatarId = sessionStorage.getItem('selectedAvatarId') || 'avatar1';
    const username = sessionStorage.getItem('username') || 'Admin';
    const avatar = getAvatar(avatarId);

    // Store for the game pages to use
    sessionStorage.setItem('avatarId', avatarId);
    sessionStorage.setItem('avatarName', avatar?.name || 'Avatar');
    sessionStorage.setItem('displayUsername', username);
  </script>

  <script>
    function selectGame(gameType) {
      const loading = document.getElementById('loadingIndicator');
      loading.classList.add('active');
      
      // Store the selected game type
      sessionStorage.setItem('selectedGameType', gameType);
      
      if (gameType === 'quiz') {
        // Redirect to quiz game
        window.location.href = 'quiz-game.html';
      } else if (gameType === 'charades') {
        // Redirect to charades game
        window.location.href = 'charades-game.html';
      }
    }
  </script>
</body>
</html>
